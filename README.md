# whosonfirst-json-schema

JSON Schema definitions for Who's On First documents

## JSON Schema Version

The schemas in this repo have been written to conform to [JSON Schema v0.6 draft](http://json-schema.org/specification-links.html#draft-6) (note to self: when _will_ JSON Schema ever reach version 1.0 and come out of draft?).

## Schema Types

This repo contains JSON schema definitions for the following JSON file types:

### Who's On First Property Definitions

`schema/properties/properties.json` defines the JSON schema to validate Who's On First property definition files, found in the [`whosonfirst-properties`](https://github.com/whosonfirst/whosonfirst-properties) repo.

### GeoJSON Documents

`schema/geojson/geojson.json` defines the JSON schema to validate a WOF specific subset of GeoJSON documents.

### Who's On First Documents

`schema/docs/whosonfirst.json` defines the JSON schema to validate Who's On First GeoJSON documents, found in the [`whosonfirst-data`](https://github.com/whosonfirst-data/whosonfirst-data) repo and is a superset of the GeoJSON schema.

## Referenced Schema Definitions

In addition to the top level schemas detailed above, this repo also contains the following _referenced_ (JSON schema-speak for _included_) schema definitions:

* `schema/docs/wof-properties.json` - defines a Who's on First document's `properties` object

* `schema/docs/wof-hierarchy.json` - defines a Who's On First `wof:hierarchy` object

* `schema/geojson/geoson-bbox.json` - defines a GeoSON `bbox` object
* `schema/geojson/geojson-geometry.json` - defines a GeoJSON `geometry` object

## Who's On First Document types

At the time of writing, the [`whosonfirst-data`](https://github.com/whosonfirst-data/whosonfirst-data) repo contains two types of GeoJSON documents :-

1. _master_ documents; these contain the canonical definition of a Who's On First place and are named `[WOFID].geojson`. These are validated by the schema contained in `schema/docs/whosonfirst.json`.

2. _alternate_ documents; these contain supporting definitions for a Who's On First place and are named `[WOFID]-alt-*.geojson` (currently `[WOFID]-alt-quattroshapes_pg.geojson` and `[WOFID]-alt-naturalearth.geojson` exist in the `whosonfirst-data` repo). These are validated by the schema contained in `schema/docs/whosonfirst-alt.json`.


## Editing Schema documents

Please do __not__ edit `schema/docs/wof-properties.json` by hand. This file is autogenerated by the `wof-build-schema` script in the `py-whosonfirst-json-schema` repo and which, in turn, reads property definitions from the `whosonfirst-properties` repo.


## Validating Who's On First Documents

See [`VALIDATING.md`](VALIDATING.md).

## See also

* http://json-schema.org/
* http://json-schema.org/implementations.html
* https://spacetelescope.github.io/understanding-json-schema/
* https://github.com/fge/sample-json-schemas/blob/master/geojson/geojson.json
* https://www.tbray.org/ongoing/When/201x/2016/04/30/JSON-Schema-funnies
