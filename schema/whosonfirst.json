{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$id": "whosonfirst.json",
    "title": "Who's On First (WOF) document schema",
    "description": "What is the Minimal Viable WOF document?",
    "type": "object",
    "properties": {
        "id": {
            "type": "integer"
        },
        "type": {
            "type": "string",
            "enum": [
                "Feature"
            ]
        },
        "properties": {
            "type": "object",
            "properties": {
                "wof:belongsto": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "wof:breaches": {
                    "type": "array"
                },
                "wof:concordances": {
                    "type": "object",
                    "items": {
                        "type": "string"
                    }
                },
                "wof:country": {
                    "type": "string",
                    "pattern": "^[A-Z]{2}$"
                },
                "wof:geomhash": {
                    "type": "string"
                },
                "wof:hierarchy": {
                    "type": "array",
                    "items": {
                        "$ref": "wof-hierarchy.json#/definitions/wof-hierarchy"
                    }
                },
                "wof:id": {
                    "type": "integer"
                },
                "wof:lang": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "pattern": "^[a-z]{3}$"
                    }
                },
                "wof:lastmodified": {
                    "type": "integer"
                },
                "wof:name": {
                    "type": "string"
                },
                "wof:parent_id": {
                    "type": "integer",
                    "default": -1
                },
                "wof:placetype": {
                    "type": "string",
                    "default": "venue"
                },
                "wof:placetype_alt": {
                    "type": "string"
                },
                "wof:population": {
                    "type": "integer"
                },
                "wof:population_rank": {
                    "type": "integer"
                },
                "wof:repo": {
                    "type": "string",
                    "pattern": "^whosonfirst-.*$"
                },
                "wof:supersedes": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "wof:superseded_by": {
                    "type": "array"
                },
                "wof:tags": {
                    "type": "array"
                },
                "addr:postcode": {
                    "type": "string"
                },
                "edtf:cessation": {
                    "type": "string",
                    "default": "uuuu"
                },
                "edtf:inception": {
                    "type": "string",
                    "default": "uuuu"
                },
                "geom:area": {
                    "type": "number"
                },
                "geom:area_square_m": {
                    "type": "number"
                },
                "geom:bbox": {
                    "type": "string",
                    "pattern": "^([-+]?[0-9]*.?[0-9]+),([-+]?[0-9]*.?[0-9]+),([-+]?[0-9]*.?[0-9]+),([-+]?[0-9]*.?[0-9]+)$"
                },
                "geom:latitude": {
                    "type": "number"
                },
                "geom:longitude": {
                    "type": "number"
                },
                "geonames:id": {
                    "type": "string"
                },
                "gn:population": {
                    "type": "integer"
                },
                "iso:country": {
                    "type": "string",
                    "pattern": "^[A-Z]{2}$"
                },
                "lbl:latitude": {
                    "type": "number"
                },
                "lbl:longitude": {
                    "type": "number"
                },
                "mps:latitude": {
                    "type": "number"
                },
                "mps:longitude": {
                    "type": "number"
                },
                "mz:is_current": {
                    "type": "integer"
                },
                "mz:categories": {
                    "type": "array"
                },
                "mz:hierarchy_label": {
                    "type": "integer"
                },
                "mz:is_funky": {
                    "type": "integer"
                },
                "mz:min_zoom": {
                    "type": "number"
                },
                "ne:ADM0CAP": {
                    "type": "number"
                },
                "ne:ADM0NAME": {
                    "type": "string"
                },
                "ne:ADM0_A3": {
                    "type": "string",
                    "pattern": "^[A-Z]{3}$"
                },
                "ne:ADM1NAME": {
                    "type": "string"
                },
                "ne:ADMIN1_COD": {
                    "type": "number"
                },
                "ne:CAPALT": {
                    "type": "number"
                },
                "ne:CAPIN": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:CHANGED": {
                    "type": "number"
                },
                "ne:CHECKME": {
                    "type": "integer"
                },
                "ne:CITYALT": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:COMPARE": {
                    "type": "integer"
                },
                "ne:DIFFASCII": {
                    "type": "integer",
                    "enum": [
                        0,
                        1
                    ]
                },
                "ne:DIFFNOTE": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:ELEVATION": {
                    "type": "number"
                },
                "ne:GEONAMEID": {
                    "type": "number"
                },
                "ne:GEONAMESNO": {
                    "type": "string"
                },
                "ne:GN_ASCII": {
                    "type": "string"
                },
                "ne:GN_POP": {
                    "type": "number"
                },
                "ne:GTOPOP30": {
                    "type": "number"
                },
                "ne:GTOPO30": {
                    "type": "number"
                },
                "ne:LABELRANK": {
                    "type": "integer"
                },
                "ne:ISO_A2": {
                    "type": "string",
                    "pattern": "^[A-Z]{2}$"
                },
                "ne:UN_ADM0": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:UN_FID": {
                    "type": "integer"
                },
                "ne:UN_LAT": {
                    "type": "number"
                },
                "ne:UN_LONG": {
                    "type": "number"
                },
                "ne:SOV0NAME": {
                    "type": "string"
                },
                "ne:SOV_A3": {
                    "type": "string",
                    "pattern": "^[A-Z]{3}$"
                },
                "ne:LS_MATCH": {
                    "type": "integer",
                    "enum": [
                        0,
                        1
                    ]
                },
                "ne:LS_NAME": {
                    "type": "string"
                },
                "ne:MEGACITY": {
                    "type": "integer",
                    "enum": [
                        0,
                        1
                    ]
                },
                "ne:MEGANAME": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:LATITUDE": {
                    "type": "number"
                },
                "ne:LONGITUDE": {
                    "type": "number"
                },
                "ne:NAT_SCALE": {
                    "type": "integer"
                },
                "ne:NOTE": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:NAME": {
                    "type": "string"
                },
                "ne:NAMEALT": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:NAMEASCII": {
                    "type": "string"
                },
                "ne:NAMEDIFF": {
                    "type": "integer"
                },
                "ne:NAMEPAR": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "ne:NATSCALE": {
                    "type": "integer"
                },
                "ne:SCALERANK": {
                    "type": "integer"
                },
                "ne:TIMEZONE": {
                    "type": "string"
                },
                "ne:WORLDCITY": {
                    "type": "number"
                },
                "qs:id": {
                    "type": "number"
                },
                "qs:pop": {
                    "type": "number"
                },
                "qs:source": {
                    "type": "string"
                },
                "qs:type": {
                    "type": "string"
                },
                "reversegeo:latitude": {
                    "type": "number"
                },
                "reversegeo:longitude": {
                    "type": "number"
                },
                "sg:postcode": {
                    "type": "string"
                },
                "src:geom": {
                    "type": "string"
                },
                "src:geom_alt": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "src:lbl:centroid": {
                    "type": "string"
                },
                "src:population": {
                    "type": "string"
                },
                "wk:latitude": {
                    "type": "number"
                },
                "wk:longitude": {
                    "type": "number"
                },
                "wk:wordcount": {
                    "type": "integer"
                }
            },
            "patternProperties": {
                "^name:.*_x_(preferred|variant)$": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "^ne:FEATURE.*$": {
                    "type": "string"
                },
                "^ne:MEAN_(BBXC|BBYC)": {
                    "type": "number"
                },
                "^ne:MIN_.*$": {
                    "type": "number"
                },
                "^ne:MAX_.*$": {
                    "type": "number"
                },
                "^ne:POP[0-9]{4}$": {
                    "type": "number"
                },
                "^ne:POP_(MIN|MAX|OTHER)": {
                    "type": "integer"
                },
                "^ne:RANK_(MIN|MAX)": {
                    "type": "integer"
                },
                "^qs:(a|l).*$": {
                    "type": "string"
                }
            },
            "required": [
                "wof:id",
                "wof:parent_id",
                "wof:name",
                "wof:placetype",
                "wof:concordances",
                "wof:hierarchy",
                "wof:belongsto",
                "wof:supersedes",
                "wof:superseded_by",
                "wof:breaches",
                "wof:tags",
                "src:geom",
                "edtf:inception",
                "edtf:cessation",
                "mz:is_current"
            ],
            "additionalProperties": false
        },
        "bbox": {
            "$ref": "geojson-bbox.json#/definitions/bbox"
        },
        "geometry": {
            "$ref": "geojson-geometry.json#/definitions/geometry"
        }
    },
    "required": [
        "id",
        "type",
        "properties",
        "bbox",
        "geometry"
    ]
}
